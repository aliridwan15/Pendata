
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>K-MEANS CLUSTER 2,3 DAN 4 &#8212; Penambangan Data E</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'K_Means';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="UTS" href="UTS.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/naga.jpg" class="logo__image only-light" alt="Penambangan Data E - Home"/>
    <img src="_static/naga.jpg" class="logo__image only-dark pst-js-only" alt="Penambangan Data E - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome to my github account
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="notebooks.html">Data Mining (Penambangan Data)</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_understanding.html">Data Understanding</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tugas1.html">Tugas1 Data_mining</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="Tugas2.html"><strong>Tugas 2 data_understanding</strong></a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="Local_Outlier_Factor.html">Local Outlier Factor</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="UTS.html"><strong>UTS</strong></a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">K-MEANS CLUSTER 2,3 DAN 4</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FK_Means.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/K_Means.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>K-MEANS CLUSTER 2,3 DAN 4</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bagian-awal-ambil-dan-gabungkan-data">Bagian Awal: Ambil dan Gabungkan Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-asli">Data Asli</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-normalisasi">Data Normalisasi</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocessing-dan-reduksi-dimensi">Preprocessing dan Reduksi Dimensi</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#clustering-visualisasi-2-cluster">Clustering + Visualisasi (2 Cluster)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#clustering-visualisasi-3-cluster">Clustering + Visualisasi (3 Cluster)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#clustering-visualisasi-4-cluster">Clustering + Visualisasi (4 Cluster)</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="k-means-cluster-2-3-dan-4">
<h1>K-MEANS CLUSTER 2,3 DAN 4<a class="headerlink" href="#k-means-cluster-2-3-dan-4" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">pip</span> install pymysql
<span class="o">%</span><span class="k">pip</span> install psycopg2
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: pymysql in /usr/local/python/3.12.1/lib/python3.12/site-packages (1.1.1)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> A new release of pip is available: <span class=" -Color -Color-Red">25.0.1</span> -&gt; <span class=" -Color -Color-Green">25.1.1</span>
<span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> To update, run: <span class=" -Color -Color-Green">python3 -m pip install --upgrade pip</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: psycopg2 in /usr/local/python/3.12.1/lib/python3.12/site-packages (2.9.10)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> A new release of pip is available: <span class=" -Color -Color-Red">25.0.1</span> -&gt; <span class=" -Color -Color-Green">25.1.1</span>
<span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> To update, run: <span class=" -Color -Color-Green">python3 -m pip install --upgrade pip</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
<section id="bagian-awal-ambil-dan-gabungkan-data">
<h2>Bagian Awal: Ambil dan Gabungkan Data<a class="headerlink" href="#bagian-awal-ambil-dan-gabungkan-data" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">psycopg2</span>
<span class="kn">import</span> <span class="nn">pymysql</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="k">def</span> <span class="nf">get_pg_data</span><span class="p">():</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="s2">&quot;postgreependat2-pendat4.h.aivencloud.com&quot;</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="s2">&quot;avnadmin&quot;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;AVNS_4T2SWDdsuTxisd9TzFu&quot;</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="s2">&quot;defaultdb&quot;</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">24915</span>
    <span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM iris_postgresql&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>  <span class="c1"># Ambil nama kolom</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_mysql_data</span><span class="p">():</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">pymysql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="s2">&quot;mysqlpendat23-pendat4.h.aivencloud.com&quot;</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="s2">&quot;avnadmin&quot;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;AVNS_QaQiHV_Bc5n2tLGZIlj&quot;</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="s2">&quot;defaultdb&quot;</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">24915</span>
    <span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM irismysql&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>  <span class="c1"># Ambil nama kolom</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Ambil data dari kedua database</span>
<span class="n">df_postgresql</span> <span class="o">=</span> <span class="n">get_pg_data</span><span class="p">()</span>
<span class="n">df_mysql</span> <span class="o">=</span> <span class="n">get_mysql_data</span><span class="p">()</span>

<span class="c1"># Gabungkan berdasarkan kolom &#39;id&#39; dan &#39;Class&#39;</span>
<span class="n">df_merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_mysql</span><span class="p">,</span> <span class="n">df_postgresql</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">)</span>

<span class="c1"># Cetak semua data hasil gabungan tanpa indeks</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_merged</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> id           class  petal_length  petal_width  sepal_length  sepal_width
  1     Iris-setosa           1.4          0.2           5.1          3.5
  2     Iris-setosa          14.0          2.0          49.0         30.0
  3     Iris-setosa           1.3          0.2           4.7          3.2
  4     Iris-setosa          15.0         20.0          46.0         31.0
  5     Iris-setosa           1.4          0.2           5.0          3.6
  6     Iris-setosa           1.7          0.4           5.4          3.9
  7     Iris-setosa           1.4          0.3           4.6          3.4
  8     Iris-setosa           1.5          0.2           5.0          3.4
  9     Iris-setosa           1.4          0.2           4.4          2.9
 10     Iris-setosa           1.5          0.1           4.9          3.1
 11     Iris-setosa           1.5          0.2           5.4          3.7
 12     Iris-setosa          16.0         20.0          48.0         34.0
 13     Iris-setosa           1.4          0.1           4.8          3.0
 14     Iris-setosa           1.1          0.1           4.3          3.0
 15     Iris-setosa           1.2          0.2           5.8          4.0
 16     Iris-setosa           1.5          0.4           5.7          4.4
 17     Iris-setosa           1.3          0.4           5.4          3.9
 18     Iris-setosa           1.4          0.3           5.1          3.5
 19     Iris-setosa           1.7          0.3           5.7          3.8
 20     Iris-setosa           1.5          0.3           5.1          3.8
 21     Iris-setosa          17.0          2.0          54.0         34.0
 22     Iris-setosa          15.0          4.0          51.0         37.0
 23     Iris-setosa           1.0          0.2           4.6          3.6
 24     Iris-setosa           1.7          0.5           5.1          3.3
 25     Iris-setosa           1.9          0.2           4.8          3.4
 26     Iris-setosa           1.6          0.2           5.0          3.0
 27     Iris-setosa           1.6          0.4           5.0          3.4
 28     Iris-setosa           1.5          0.2           5.2          3.5
 29     Iris-setosa           1.4          0.2           5.2          3.4
 30     Iris-setosa           1.6          0.2           4.7          3.2
 31     Iris-setosa           1.6          0.2           4.8          3.1
 32     Iris-setosa           1.5          0.4           5.4          3.4
 33     Iris-setosa           1.5          0.1           5.2          4.1
 34     Iris-setosa           1.4          0.2           5.5          4.2
 35     Iris-setosa           1.5          0.1           4.9          3.1
 36     Iris-setosa           1.2          0.2           5.0          3.2
 37     Iris-setosa           1.3          0.2           5.5          3.5
 38     Iris-setosa           1.5          0.1           4.9          3.1
 39     Iris-setosa           1.3          0.2           4.4          3.0
 40     Iris-setosa           1.5          0.2           5.1          3.4
 41     Iris-setosa           1.3          0.3           5.0          3.5
 42     Iris-setosa           1.3          0.3           4.5          2.3
 43     Iris-setosa           1.3          0.2           4.4          3.2
 44     Iris-setosa           1.6          0.6           5.0          3.5
 45     Iris-setosa           1.9          0.4           5.1          3.8
 46     Iris-setosa           1.4          0.3           4.8          3.0
 47     Iris-setosa           1.6          0.2           5.1          3.8
 48     Iris-setosa           1.4          0.2           4.6          3.2
 49     Iris-setosa           1.5          0.2           5.3          3.7
 50     Iris-setosa           1.4          0.2           5.0          3.3
 51 Iris-versicolor           4.7          1.4           7.0          3.2
 52 Iris-versicolor           4.5          1.5           6.4          3.2
 53 Iris-versicolor           4.9          1.5           6.9          3.1
 54 Iris-versicolor           4.0          1.3           5.5          2.3
 55 Iris-versicolor           4.6          1.5           6.5          2.8
 56 Iris-versicolor           4.5          1.3           5.7          2.8
 57 Iris-versicolor           4.7          1.6           6.3          3.3
 58 Iris-versicolor           3.3          1.0           4.9          2.4
 59 Iris-versicolor          46.0         13.0          66.0         29.0
 60 Iris-versicolor           3.9          1.4           5.2          2.7
 61 Iris-versicolor          35.0         10.0          50.0         20.0
 62 Iris-versicolor           4.2          1.5           5.9          3.0
 63 Iris-versicolor           4.0          1.0           6.0          2.2
 64 Iris-versicolor           4.7          1.4           6.1          2.9
 65 Iris-versicolor           3.6          1.3           5.6          2.9
 66 Iris-versicolor           4.4          1.4           6.7          3.1
 67 Iris-versicolor          45.0         15.0          56.0         30.0
 68 Iris-versicolor           4.1          1.0           5.8          2.7
 69 Iris-versicolor           4.5          1.5           6.2          2.2
 70 Iris-versicolor           3.9          1.1           5.6          2.5
 71 Iris-versicolor           4.8          1.8           5.9          3.2
 72 Iris-versicolor           4.0          1.3           6.1          2.8
 73 Iris-versicolor           4.9          1.5           6.3          2.5
 74 Iris-versicolor           4.7          1.2           6.1          2.8
 75 Iris-versicolor           4.3          1.3           6.4          2.9
 76 Iris-versicolor           4.4          1.4           6.6          3.0
 77 Iris-versicolor           4.8          1.4           6.8          2.8
 78 Iris-versicolor          50.0         17.0          67.0         30.0
 79 Iris-versicolor           4.5          1.5           6.0          2.9
 80 Iris-versicolor           3.5          1.0           5.7          2.6
 81 Iris-versicolor           3.8          1.1           5.5          2.4
 82 Iris-versicolor           3.7          1.0           5.5          2.4
 83 Iris-versicolor           3.9          1.2           5.8          2.7
 84 Iris-versicolor           5.1          1.6           6.0          2.7
 85 Iris-versicolor           4.5          1.5           5.4          3.0
 86 Iris-versicolor           4.5          1.6           6.0          3.4
 87 Iris-versicolor           4.7          1.5           6.7          3.1
 88 Iris-versicolor           4.4          1.3           6.3          2.3
 89 Iris-versicolor           4.1          1.3           5.6          3.0
 90 Iris-versicolor           4.0          1.3           5.5          2.5
 91 Iris-versicolor           4.4          1.2           5.5          2.6
 92 Iris-versicolor           4.6          1.4           6.1          3.0
 93 Iris-versicolor           4.0          1.2           5.8          2.6
 94 Iris-versicolor          33.0         10.0          50.0         23.0
 95 Iris-versicolor           4.2          1.3           5.6          2.7
 96 Iris-versicolor           4.2          1.2           5.7          3.0
 97 Iris-versicolor           4.2          1.3           5.7          2.9
 98 Iris-versicolor           4.3          1.3           6.2          2.9
 99 Iris-versicolor           3.0          1.1           5.1          2.5
100 Iris-versicolor           4.1          1.3           5.7          2.8
101  Iris-virginica           6.0          2.5           6.3          3.3
102  Iris-virginica           5.1          1.9           5.8          2.7
103  Iris-virginica           5.9          2.1           7.1          3.0
104  Iris-virginica           5.6          1.8           6.3          2.9
105  Iris-virginica           5.8          2.2           6.5          3.0
106  Iris-virginica          66.0         21.0          76.0         30.0
107  Iris-virginica           4.5          1.7           4.9          2.5
108  Iris-virginica           6.3          1.8           7.3          2.9
109  Iris-virginica           5.8          1.8           6.7          2.5
110  Iris-virginica          61.0         25.0          72.0         36.0
111  Iris-virginica           5.1          2.0           6.5          3.2
112  Iris-virginica           5.3          1.9           6.4          2.7
113  Iris-virginica           5.5          2.1           6.8          3.0
114  Iris-virginica           5.0          2.0           5.7          2.5
115  Iris-virginica           5.1          2.4           5.8          2.8
116  Iris-virginica           5.3          2.3           6.4          3.2
117  Iris-virginica           5.5          1.8           6.5          3.0
118  Iris-virginica          67.0         22.0          77.0         38.0
119  Iris-virginica           6.9          2.3           7.7          2.6
120  Iris-virginica           5.0          1.5           6.0          2.2
121  Iris-virginica           5.7          2.3           6.9          3.2
122  Iris-virginica           4.9          2.0           5.6          2.8
123  Iris-virginica           6.7          2.0           7.7          2.8
124  Iris-virginica           4.9          1.8           6.3          2.7
125  Iris-virginica           5.7          2.1           6.7          3.3
126  Iris-virginica           6.0          1.8           7.2          3.2
127  Iris-virginica          48.0         18.0          62.0         38.0
128  Iris-virginica           4.9          1.8           6.1          3.0
129  Iris-virginica           5.6          2.1           6.4          2.8
130  Iris-virginica           5.8          1.6           7.2          3.0
131  Iris-virginica           6.1          1.9           7.4          2.8
132  Iris-virginica          64.0          2.0          79.0          3.8
133  Iris-virginica           5.6          2.2           6.4          2.8
134  Iris-virginica           5.1          1.5           6.3          2.8
135  Iris-virginica           5.6          1.4           6.1          2.6
136  Iris-virginica           6.1          2.3           7.7          3.0
137  Iris-virginica           5.6          2.4           6.3          3.4
138  Iris-virginica           5.5          1.8           6.4          3.1
139  Iris-virginica           4.8          1.8           6.0          3.0
140  Iris-virginica           5.4          2.1           6.9          3.1
141  Iris-virginica           5.6          2.4           6.7          3.1
142  Iris-virginica           5.1          2.3           6.9          3.1
143  Iris-virginica           5.1          1.9           5.8          2.7
144  Iris-virginica           5.9          2.3           6.8          3.2
145  Iris-virginica           5.7          2.5           6.7          3.3
146  Iris-virginica           5.2          2.3           6.7          3.0
147  Iris-virginica           5.0          1.9           6.3          2.5
148  Iris-virginica           5.2          2.0           6.5          3.0
149  Iris-virginica           5.4          2.3           6.2          3.4
150  Iris-virginica           5.1          1.8           5.9          3.0
</pre></div>
</div>
</div>
</div>
<p>Kode ini dirancang untuk mengambil data dari dua sistem basis data yang berbeda, yaitu PostgreSQL dan MySQL, lalu menggabungkannya menjadi satu tabel menggunakan Pandas. Beberapa library yang digunakan dalam proses ini antara lain psycopg2 untuk koneksi ke PostgreSQL, pymysql untuk koneksi ke MySQL, pandas untuk manipulasi data dalam bentuk DataFrame, dan numpy yang sebenarnya tidak digunakan langsung dalam kode ini.</p>
<p>Fungsi get_pg_data() bertugas mengambil data dari tabel sepal_postgresql di database PostgreSQL. Fungsi ini membuka koneksi menggunakan kredensial tertentu, menjalankan perintah SELECT * FROM sepal_postgresql, lalu hasilnya diubah menjadi DataFrame Pandas dengan mengambil nama-nama kolom dari metadata query.</p>
<p>Dengan cara serupa, fungsi get_mysql_data() mengambil data dari tabel petalmysql yang ada di database MySQL. Prosesnya juga mencakup koneksi ke server, eksekusi query SELECT * FROM petalmysql, dan konversi hasil query menjadi DataFrame.</p>
<p>Data dari kedua sumber disimpan masing-masing ke dalam df_postgresql dan df_mysql. Diasumsikan bahwa kedua DataFrame ini memiliki kolom yang sama, yaitu id dan class, yang digunakan sebagai kunci untuk proses penggabungan. Penggabungan dilakukan dengan fungsi pd.merge() dari Pandas menggunakan parameter on=[“id”, “class”] dan how=”inner”, artinya hanya baris yang cocok di kedua DataFrame berdasarkan kolom tersebut yang akan digabungkan.</p>
<p>Hasil akhirnya adalah DataFrame baru bernama df_merged yang memuat gabungan informasi dari kedua tabel. Data ini kemudian ditampilkan ke layar dengan fungsi print(df_merged.to_string(index=False)) agar hasilnya rapi dan mudah dibaca karena indeks tidak ditampilkan.</p>
<p>Secara keseluruhan, kode ini memungkinkan penggabungan data sepal dan petal dari dua basis data berbeda ke dalam satu struktur data yang konsisten untuk keperluan analisis lanjutan seperti visualisasi, reduksi dimensi, atau teknik data mining lainnya.</p>
</section>
<section id="data-asli">
<h2>Data Asli<a class="headerlink" href="#data-asli" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Ambil fitur numerik mentah (tanpa scaling)</span>
<span class="n">features_raw</span> <span class="o">=</span> <span class="n">df_merged</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;class&#39;</span><span class="p">])</span>

<span class="c1"># PCA langsung pada data mentah</span>
<span class="n">pca_raw</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">pca_2d_raw</span> <span class="o">=</span> <span class="n">pca_raw</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">features_raw</span><span class="p">)</span>

<span class="c1"># Visualisasi</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">pca_2d_raw</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">pca_2d_raw</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;PCA 2D Sebelum Scaling&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;PCA 1&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;PCA 2&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">pca_raw_3d</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">pca_3d_raw</span> <span class="o">=</span> <span class="n">pca_raw_3d</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">features_raw</span><span class="p">)</span>

<span class="c1"># Visualisasi 3D</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">pca_3d_raw</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">pca_3d_raw</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">pca_3d_raw</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">],</span>
           <span class="n">c</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;PCA 3D Sebelum Scaling&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;PCA 1&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;PCA 2&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s2">&quot;PCA 3&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/0c1cb96bdf7965131a9f58e3c2297554d6369646863c372da762633bbc4566e3.png" src="_images/0c1cb96bdf7965131a9f58e3c2297554d6369646863c372da762633bbc4566e3.png" />
<img alt="_images/b9a851a0f9732804742ef055c3c1a857f8bd6dc14c6d3ce7836c5c44d6a14d3c.png" src="_images/b9a851a0f9732804742ef055c3c1a857f8bd6dc14c6d3ce7836c5c44d6a14d3c.png" />
</div>
</div>
<p>Kode ini digunakan untuk menerapkan Analisis Komponen Utama (PCA) pada data mentah (tanpa normalisasi) dan menyajikan hasilnya dalam bentuk visualisasi dua dimensi (2D) dan tiga dimensi (3D) menggunakan matplotlib.</p>
<p>Pertama, kode mengimpor PCA dari sklearn.decomposition untuk melakukan reduksi dimensi, serta pyplot dari matplotlib untuk membuat grafik. Data yang dianalisis diambil dari df_merged, yaitu DataFrame gabungan dari dua sumber data sebelumnya (PostgreSQL dan MySQL), yang berisi fitur-fitur iris. Sebelum analisis PCA dilakukan, kolom ‘id’ dan ‘class’ dihapus karena keduanya bukan variabel numerik dan tidak relevan untuk proses komputasi PCA.</p>
<p>Reduksi dimensi pertama dilakukan ke dua komponen utama menggunakan PCA(n_components=2). Hasil transformasi disimpan dalam variabel pca_2d_raw. Karena data yang digunakan masih dalam bentuk mentah (belum dinormalisasi), proses PCA ini mencerminkan pola asli dari data awal. Hasilnya divisualisasikan dalam scatter plot dua dimensi dengan warna abu-abu dan transparansi (alpha=0.7) untuk menjaga keterbacaan saat titik-titik saling bertumpukan.</p>
<p>Selanjutnya, dilakukan reduksi ke tiga dimensi menggunakan PCA(n_components=3), dan hasilnya disimpan ke dalam pca_3d_raw. Visualisasi 3D kemudian dibuat menggunakan objek Axes3D dari matplotlib, menampilkan sebaran data berdasarkan tiga komponen utama dari hasil PCA. Grafik ini membantu memperlihatkan bentuk dan struktur data mentah dalam ruang tiga dimensi.</p>
<p>Visualisasi ini berguna sebagai langkah awal eksplorasi data sebelum masuk ke tahap analisis lanjutan, seperti klasifikasi atau clustering. Melalui proyeksi 2D dan 3D, kita dapat mengamati apakah terdapat kecenderungan pengelompokan atau pola pemisahan alami di dalam data, bahkan sebelum dilakukan proses normalisasi atau teknik preprocessing lainnya.</p>
</section>
<section id="data-normalisasi">
<h2>Data Normalisasi<a class="headerlink" href="#data-normalisasi" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">MinMaxScaler</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">mpl_toolkits.mplot3d</span> <span class="kn">import</span> <span class="n">Axes3D</span>  <span class="c1"># untuk 3D plot</span>

<span class="c1"># Ambil fitur numerik</span>
<span class="n">features_raw</span> <span class="o">=</span> <span class="n">df_merged</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;class&#39;</span><span class="p">])</span>

<span class="c1"># Normalisasi dengan MinMaxScaler</span>
<span class="n">scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">()</span>
<span class="n">normalized_features</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">features_raw</span><span class="p">)</span>

<span class="c1"># PCA 2D setelah normalisasi</span>
<span class="n">pca_2d</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">pca_2d_data</span> <span class="o">=</span> <span class="n">pca_2d</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">normalized_features</span><span class="p">)</span>

<span class="c1"># Visualisasi PCA 2D</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">pca_2d_data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">pca_2d_data</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;PCA 2D Setelah Normalisasi (MinMaxScaler)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;PCA 1&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;PCA 2&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># PCA 3D setelah normalisasi</span>
<span class="n">pca_3d</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">pca_3d_data</span> <span class="o">=</span> <span class="n">pca_3d</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">normalized_features</span><span class="p">)</span>

<span class="c1"># Visualisasi PCA 3D</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">pca_3d_data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">pca_3d_data</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">pca_3d_data</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">],</span>
           <span class="n">c</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;PCA 3D Setelah Normalisasi (MinMaxScaler)&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;PCA 1&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;PCA 2&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s2">&quot;PCA 3&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f8a9d61bfce2a9e16ab67dd5347e3191fba1ce35d495dc797a3b32828047f99a.png" src="_images/f8a9d61bfce2a9e16ab67dd5347e3191fba1ce35d495dc797a3b32828047f99a.png" />
<img alt="_images/f16f319267f3425467bc9dbf8967f17bd90f16c4fbd474c6a6036beb92899d97.png" src="_images/f16f319267f3425467bc9dbf8967f17bd90f16c4fbd474c6a6036beb92899d97.png" />
</div>
</div>
<p>Kode ini berfungsi untuk melakukan normalisasi data menggunakan MinMaxScaler, kemudian menerapkan Principal Component Analysis (PCA) guna mereduksi dimensi data menjadi dua dan tiga dimensi, serta menampilkannya dalam bentuk visualisasi.</p>
<p>Langkah pertama dimulai dengan mengambil fitur numerik dari DataFrame df_merged, yaitu hasil gabungan data dari PostgreSQL dan MySQL. Kolom ‘id’ dan ‘class’ dihapus karena tidak termasuk dalam fitur numerik yang relevan untuk analisis PCA.</p>
<p>Setelah itu, proses normalisasi dilakukan menggunakan MinMaxScaler. Teknik ini mengubah skala setiap fitur menjadi berada dalam rentang 0 hingga 1. Normalisasi sangat penting karena PCA bekerja berdasarkan variansi antar fitur, dan jika skala fitur berbeda-beda, hasil PCA bisa menjadi bias.</p>
<p>Data yang sudah dinormalisasi kemudian direduksi dimensinya ke dalam dua komponen utama menggunakan PCA(n_components=2). Hasil transformasi ini disimpan dalam pca_2d_data, lalu divisualisasikan dalam bentuk scatter plot dua dimensi menggunakan matplotlib. Visualisasi dibuat dengan titik-titik berwarna abu-abu dan transparansi (alpha=0.7) agar distribusinya terlihat jelas tanpa saling menutupi.</p>
<p>Selanjutnya, PCA juga diterapkan untuk mereduksi data ke tiga dimensi dengan PCA(n_components=3), dan hasilnya disimpan dalam pca_3d_data. Visualisasi dilakukan dalam bentuk scatter plot tiga dimensi menggunakan Axes3D dari matplotlib, yang menampilkan penyebaran data berdasarkan tiga komponen utama hasil transformasi PCA setelah normalisasi.</p>
<p>Visualisasi dua dan tiga dimensi ini sangat bermanfaat untuk eksplorasi data awal. Dengan cara ini, kita bisa mengamati apakah terdapat pola atau kemungkinan terbentuknya kelompok (cluster) dalam data. Proses normalisasi sebelum PCA membuat hasil representasi lebih akurat dan mencerminkan struktur asli data dengan lebih baik.</p>
</section>
<section id="preprocessing-dan-reduksi-dimensi">
<h2>Preprocessing dan Reduksi Dimensi<a class="headerlink" href="#preprocessing-dan-reduksi-dimensi" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span><span class="p">,</span> <span class="n">MinMaxScaler</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>

<span class="c1"># Drop kolom non-numerik</span>
<span class="n">features</span> <span class="o">=</span> <span class="n">df_merged</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;class&#39;</span><span class="p">])</span>

<span class="c1"># StandardScaler</span>
<span class="n">standard_scaler</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
<span class="n">standard_scaled</span> <span class="o">=</span> <span class="n">standard_scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>
<span class="n">standard_pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">standard_reduced</span> <span class="o">=</span> <span class="n">standard_pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">standard_scaled</span><span class="p">)</span>

<span class="c1"># MinMaxScaler</span>
<span class="n">minmax_scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">()</span>
<span class="n">minmax_scaled</span> <span class="o">=</span> <span class="n">minmax_scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>
<span class="n">minmax_pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">minmax_reduced</span> <span class="o">=</span> <span class="n">minmax_pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">minmax_scaled</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">standard_scaled</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-----------------&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">minmax_scaled</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[-4.73363549e-01 -4.97374965e-01 -3.68511713e-01 -2.61625331e-01]
 [ 5.35724098e-01 -9.34915347e-02  2.25716415e+00  2.88881602e+00]
 [-4.81372181e-01 -4.97374965e-01 -3.92435867e-01 -2.97290705e-01]
 [ 6.15810419e-01  3.94534277e+00  2.07773300e+00  3.00770060e+00]
 [-4.73363549e-01 -4.97374965e-01 -3.74492752e-01 -2.49736873e-01]
 [-4.49337653e-01 -4.52499028e-01 -3.50568598e-01 -2.14071499e-01]
 [-4.73363549e-01 -4.74936996e-01 -3.98416905e-01 -2.73513789e-01]
 [-4.65354917e-01 -4.97374965e-01 -3.74492752e-01 -2.73513789e-01]
 [-4.73363549e-01 -4.97374965e-01 -4.10378982e-01 -3.32956079e-01]
 [-4.65354917e-01 -5.19812933e-01 -3.80473790e-01 -3.09179163e-01]
 [-4.65354917e-01 -4.97374965e-01 -3.50568598e-01 -2.37848415e-01]
 [ 6.95896740e-01  3.94534277e+00  2.19735377e+00  3.36435434e+00]
 [-4.73363549e-01 -5.19812933e-01 -3.86454829e-01 -3.21067621e-01]
 [-4.97389445e-01 -5.19812933e-01 -4.16360021e-01 -3.21067621e-01]
 [-4.89380813e-01 -4.97374965e-01 -3.26644445e-01 -2.02183041e-01]
 [-4.65354917e-01 -4.52499028e-01 -3.32625483e-01 -1.54629210e-01]
 [-4.81372181e-01 -4.52499028e-01 -3.50568598e-01 -2.14071499e-01]
 [-4.73363549e-01 -4.74936996e-01 -3.68511713e-01 -2.61625331e-01]
 [-4.49337653e-01 -4.74936996e-01 -3.32625483e-01 -2.25959957e-01]
 [-4.65354917e-01 -4.74936996e-01 -3.68511713e-01 -2.25959957e-01]
 [ 7.75983061e-01 -9.34915347e-02  2.55621607e+00  3.36435434e+00]
 [ 6.15810419e-01  3.55267832e-01  2.37678492e+00  3.72100808e+00]
 [-5.05398077e-01 -4.97374965e-01 -3.98416905e-01 -2.49736873e-01]
 [-4.49337653e-01 -4.30061060e-01 -3.68511713e-01 -2.85402247e-01]
 [-4.33320388e-01 -4.97374965e-01 -3.86454829e-01 -2.73513789e-01]
 [-4.57346285e-01 -4.97374965e-01 -3.74492752e-01 -3.21067621e-01]
 [-4.57346285e-01 -4.52499028e-01 -3.74492752e-01 -2.73513789e-01]
 [-4.65354917e-01 -4.97374965e-01 -3.62530675e-01 -2.61625331e-01]
 [-4.73363549e-01 -4.97374965e-01 -3.62530675e-01 -2.73513789e-01]
 [-4.57346285e-01 -4.97374965e-01 -3.92435867e-01 -2.97290705e-01]
 [-4.57346285e-01 -4.97374965e-01 -3.86454829e-01 -3.09179163e-01]
 [-4.65354917e-01 -4.52499028e-01 -3.50568598e-01 -2.73513789e-01]
 [-4.65354917e-01 -5.19812933e-01 -3.62530675e-01 -1.90294583e-01]
 [-4.73363549e-01 -4.97374965e-01 -3.44587560e-01 -1.78406126e-01]
 [-4.65354917e-01 -5.19812933e-01 -3.80473790e-01 -3.09179163e-01]
 [-4.89380813e-01 -4.97374965e-01 -3.74492752e-01 -2.97290705e-01]
 [-4.81372181e-01 -4.97374965e-01 -3.44587560e-01 -2.61625331e-01]
 [-4.65354917e-01 -5.19812933e-01 -3.80473790e-01 -3.09179163e-01]
 [-4.81372181e-01 -4.97374965e-01 -4.10378982e-01 -3.21067621e-01]
 [-4.65354917e-01 -4.97374965e-01 -3.68511713e-01 -2.73513789e-01]
 [-4.81372181e-01 -4.74936996e-01 -3.74492752e-01 -2.61625331e-01]
 [-4.81372181e-01 -4.74936996e-01 -4.04397944e-01 -4.04286826e-01]
 [-4.81372181e-01 -4.97374965e-01 -4.10378982e-01 -2.97290705e-01]
 [-4.57346285e-01 -4.07623091e-01 -3.74492752e-01 -2.61625331e-01]
 [-4.33320388e-01 -4.52499028e-01 -3.68511713e-01 -2.25959957e-01]
 [-4.73363549e-01 -4.74936996e-01 -3.86454829e-01 -3.21067621e-01]
 [-4.57346285e-01 -4.97374965e-01 -3.68511713e-01 -2.25959957e-01]
 [-4.73363549e-01 -4.97374965e-01 -3.98416905e-01 -2.97290705e-01]
 [-4.65354917e-01 -4.97374965e-01 -3.56549637e-01 -2.37848415e-01]
 [-4.73363549e-01 -4.97374965e-01 -3.74492752e-01 -2.85402247e-01]
 [-2.09078689e-01 -2.28119345e-01 -2.54871984e-01 -2.97290705e-01]
 [-2.25095953e-01 -2.05681376e-01 -2.90758214e-01 -2.97290705e-01]
 [-1.93061425e-01 -2.05681376e-01 -2.60853022e-01 -3.09179163e-01]
 [-2.65139114e-01 -2.50557313e-01 -3.44587560e-01 -4.04286826e-01]
 [-2.17087321e-01 -2.05681376e-01 -2.84777176e-01 -3.44844537e-01]
 [-2.25095953e-01 -2.50557313e-01 -3.32625483e-01 -3.44844537e-01]
 [-2.09078689e-01 -1.83243408e-01 -2.96739252e-01 -2.85402247e-01]
 [-3.21199539e-01 -3.17871218e-01 -3.80473790e-01 -3.92398369e-01]
 [ 3.09848638e+00  2.37468498e+00  3.27394068e+00  2.76993144e+00]
 [-2.73147746e-01 -2.28119345e-01 -3.62530675e-01 -3.56732995e-01]
 [ 2.21753684e+00  1.70154593e+00  2.31697453e+00  1.69997023e+00]
 [-2.49121850e-01 -2.05681376e-01 -3.20663406e-01 -3.21067621e-01]
 [-2.65139114e-01 -3.17871218e-01 -3.14682368e-01 -4.16175284e-01]
 [-2.09078689e-01 -2.28119345e-01 -3.08701329e-01 -3.32956079e-01]
 [-2.97173642e-01 -2.50557313e-01 -3.38606521e-01 -3.32956079e-01]
 [-2.33104585e-01 -2.28119345e-01 -2.72815099e-01 -3.09179163e-01]
 [ 3.01840005e+00  2.82344435e+00  2.67583684e+00  2.88881602e+00]
 [-2.57130482e-01 -3.17871218e-01 -3.26644445e-01 -3.56732995e-01]
 [-2.25095953e-01 -2.05681376e-01 -3.02720291e-01 -4.16175284e-01]
 [-2.73147746e-01 -2.95433250e-01 -3.38606521e-01 -3.80509911e-01]
 [-2.01070057e-01 -1.38367471e-01 -3.20663406e-01 -2.97290705e-01]
 [-2.65139114e-01 -2.50557313e-01 -3.08701329e-01 -3.44844537e-01]
 [-1.93061425e-01 -2.05681376e-01 -2.96739252e-01 -3.80509911e-01]
 [-2.09078689e-01 -2.72995281e-01 -3.08701329e-01 -3.44844537e-01]
 [-2.41113218e-01 -2.50557313e-01 -2.90758214e-01 -3.32956079e-01]
 [-2.33104585e-01 -2.28119345e-01 -2.78796137e-01 -3.21067621e-01]
 [-2.01070057e-01 -2.28119345e-01 -2.66834060e-01 -3.44844537e-01]
 [ 3.41883166e+00  3.27220372e+00  3.33375106e+00  2.88881602e+00]
 [-2.25095953e-01 -2.05681376e-01 -3.14682368e-01 -3.32956079e-01]
 [-3.05182275e-01 -3.17871218e-01 -3.32625483e-01 -3.68621453e-01]
 [-2.81156378e-01 -2.95433250e-01 -3.44587560e-01 -3.92398369e-01]
 [-2.89165010e-01 -3.17871218e-01 -3.44587560e-01 -3.92398369e-01]
 [-2.73147746e-01 -2.72995281e-01 -3.26644445e-01 -3.56732995e-01]
 [-1.77044161e-01 -1.83243408e-01 -3.14682368e-01 -3.56732995e-01]
 [-2.25095953e-01 -2.05681376e-01 -3.50568598e-01 -3.21067621e-01]
 [-2.25095953e-01 -1.83243408e-01 -3.14682368e-01 -2.73513789e-01]
 [-2.09078689e-01 -2.05681376e-01 -2.72815099e-01 -3.09179163e-01]
 [-2.33104585e-01 -2.50557313e-01 -2.96739252e-01 -4.04286826e-01]
 [-2.57130482e-01 -2.50557313e-01 -3.38606521e-01 -3.21067621e-01]
 [-2.65139114e-01 -2.50557313e-01 -3.44587560e-01 -3.80509911e-01]
 [-2.33104585e-01 -2.72995281e-01 -3.44587560e-01 -3.68621453e-01]
 [-2.17087321e-01 -2.28119345e-01 -3.08701329e-01 -3.21067621e-01]
 [-2.65139114e-01 -2.72995281e-01 -3.26644445e-01 -3.68621453e-01]
 [ 2.05736420e+00  1.70154593e+00  2.31697453e+00  2.05662397e+00]
 [-2.49121850e-01 -2.50557313e-01 -3.38606521e-01 -3.56732995e-01]
 [-2.49121850e-01 -2.72995281e-01 -3.32625483e-01 -3.21067621e-01]
 [-2.49121850e-01 -2.50557313e-01 -3.32625483e-01 -3.32956079e-01]
 [-2.41113218e-01 -2.50557313e-01 -3.02720291e-01 -3.32956079e-01]
 [-3.45225435e-01 -2.95433250e-01 -3.68511713e-01 -3.80509911e-01]
 [-2.57130482e-01 -2.50557313e-01 -3.32625483e-01 -3.44844537e-01]
 [-1.04966472e-01  1.86983069e-02 -2.96739252e-01 -2.85402247e-01]
 [-1.77044161e-01 -1.15929503e-01 -3.26644445e-01 -3.56732995e-01]
 [-1.12975104e-01 -7.10535664e-02 -2.48890945e-01 -3.21067621e-01]
 [-1.37001000e-01 -1.38367471e-01 -2.96739252e-01 -3.32956079e-01]
 [-1.20983736e-01 -4.86155981e-02 -2.84777176e-01 -3.21067621e-01]
 [ 4.70021280e+00  4.16972245e+00  3.87204452e+00  2.88881602e+00]
 [-2.25095953e-01 -1.60805440e-01 -3.80473790e-01 -3.80509911e-01]
 [-8.09405753e-02 -1.38367471e-01 -2.36928868e-01 -3.32956079e-01]
 [-1.20983736e-01 -1.38367471e-01 -2.72815099e-01 -3.80509911e-01]
 [ 4.29978119e+00  5.06724118e+00  3.63280298e+00  3.60212350e+00]
 [-1.77044161e-01 -9.34915347e-02 -2.84777176e-01 -2.97290705e-01]
 [-1.61026896e-01 -1.15929503e-01 -2.90758214e-01 -3.56732995e-01]
 [-1.45009632e-01 -7.10535664e-02 -2.66834060e-01 -3.21067621e-01]
 [-1.85052793e-01 -9.34915347e-02 -3.32625483e-01 -3.80509911e-01]
 [-1.77044161e-01 -3.73966139e-03 -3.26644445e-01 -3.44844537e-01]
 [-1.61026896e-01 -2.61776297e-02 -2.90758214e-01 -2.97290705e-01]
 [-1.45009632e-01 -1.38367471e-01 -2.84777176e-01 -3.21067621e-01]
 [ 4.78029912e+00  4.39410213e+00  3.93185491e+00  3.83989266e+00]
 [-3.28887826e-02 -2.61776297e-02 -2.13004715e-01 -3.68621453e-01]
 [-1.85052793e-01 -2.05681376e-01 -3.14682368e-01 -4.16175284e-01]
 [-1.28992368e-01 -2.61776297e-02 -2.60853022e-01 -2.97290705e-01]
 [-1.93061425e-01 -9.34915347e-02 -3.38606521e-01 -3.44844537e-01]
 [-4.89060468e-02 -9.34915347e-02 -2.13004715e-01 -3.44844537e-01]
 [-1.93061425e-01 -1.38367471e-01 -2.96739252e-01 -3.56732995e-01]
 [-1.28992368e-01 -7.10535664e-02 -2.72815099e-01 -2.85402247e-01]
 [-1.04966472e-01 -1.38367471e-01 -2.42909907e-01 -2.97290705e-01]
 [ 3.25865902e+00  3.49658340e+00  3.03469914e+00  3.83989266e+00]
 [-1.93061425e-01 -1.38367471e-01 -3.08701329e-01 -3.21067621e-01]
 [-1.37001000e-01 -7.10535664e-02 -2.90758214e-01 -3.44844537e-01]
 [-1.20983736e-01 -1.83243408e-01 -2.42909907e-01 -3.21067621e-01]
 [-9.69578395e-02 -1.15929503e-01 -2.30947830e-01 -3.44844537e-01]
 [ 4.54004016e+00 -9.34915347e-02  4.05147567e+00 -2.25959957e-01]
 [-1.37001000e-01 -4.86155981e-02 -2.90758214e-01 -3.44844537e-01]
 [-1.77044161e-01 -2.05681376e-01 -2.96739252e-01 -3.44844537e-01]
 [-1.37001000e-01 -2.28119345e-01 -3.08701329e-01 -3.68621453e-01]
 [-9.69578395e-02 -2.61776297e-02 -2.13004715e-01 -3.21067621e-01]
 [-1.37001000e-01 -3.73966139e-03 -2.96739252e-01 -2.73513789e-01]
 [-1.45009632e-01 -1.38367471e-01 -2.90758214e-01 -3.09179163e-01]
 [-2.01070057e-01 -1.38367471e-01 -3.14682368e-01 -3.21067621e-01]
 [-1.53018264e-01 -7.10535664e-02 -2.60853022e-01 -3.09179163e-01]
 [-1.37001000e-01 -3.73966139e-03 -2.72815099e-01 -3.09179163e-01]
 [-1.77044161e-01 -2.61776297e-02 -2.60853022e-01 -3.09179163e-01]
 [-1.77044161e-01 -1.15929503e-01 -3.26644445e-01 -3.56732995e-01]
 [-1.12975104e-01 -2.61776297e-02 -2.66834060e-01 -2.97290705e-01]
 [-1.28992368e-01  1.86983069e-02 -2.72815099e-01 -2.85402247e-01]
 [-1.69035529e-01 -2.61776297e-02 -2.72815099e-01 -3.21067621e-01]
 [-1.85052793e-01 -1.15929503e-01 -2.96739252e-01 -3.80509911e-01]
 [-1.69035529e-01 -9.34915347e-02 -2.84777176e-01 -3.21067621e-01]
 [-1.53018264e-01 -2.61776297e-02 -3.02720291e-01 -2.73513789e-01]
 [-1.77044161e-01 -1.38367471e-01 -3.20663406e-01 -3.21067621e-01]]
-----------------
[[0.00606061 0.00401606 0.0107095  0.03631285]
 [0.1969697  0.07630522 0.59839357 0.77653631]
 [0.00454545 0.00401606 0.00535475 0.02793296]
 [0.21212121 0.79919679 0.55823293 0.80446927]
 [0.00606061 0.00401606 0.00937082 0.03910615]
 [0.01060606 0.01204819 0.01472557 0.04748603]
 [0.00606061 0.00803213 0.00401606 0.03351955]
 [0.00757576 0.00401606 0.00937082 0.03351955]
 [0.00606061 0.00401606 0.00133869 0.01955307]
 [0.00757576 0.         0.00803213 0.02513966]
 [0.00757576 0.00401606 0.01472557 0.04189944]
 [0.22727273 0.79919679 0.58500669 0.88826816]
 [0.00606061 0.         0.00669344 0.02234637]
 [0.00151515 0.         0.         0.02234637]
 [0.0030303  0.00401606 0.02008032 0.05027933]
 [0.00757576 0.01204819 0.01874163 0.06145251]
 [0.00454545 0.01204819 0.01472557 0.04748603]
 [0.00606061 0.00803213 0.0107095  0.03631285]
 [0.01060606 0.00803213 0.01874163 0.04469274]
 [0.00757576 0.00803213 0.0107095  0.04469274]
 [0.24242424 0.07630522 0.66532798 0.88826816]
 [0.21212121 0.15662651 0.62516734 0.97206704]
 [0.         0.00401606 0.00401606 0.03910615]
 [0.01060606 0.01606426 0.0107095  0.03072626]
 [0.01363636 0.00401606 0.00669344 0.03351955]
 [0.00909091 0.00401606 0.00937082 0.02234637]
 [0.00909091 0.01204819 0.00937082 0.03351955]
 [0.00757576 0.00401606 0.01204819 0.03631285]
 [0.00606061 0.00401606 0.01204819 0.03351955]
 [0.00909091 0.00401606 0.00535475 0.02793296]
 [0.00909091 0.00401606 0.00669344 0.02513966]
 [0.00757576 0.01204819 0.01472557 0.03351955]
 [0.00757576 0.         0.01204819 0.05307263]
 [0.00606061 0.00401606 0.01606426 0.05586592]
 [0.00757576 0.         0.00803213 0.02513966]
 [0.0030303  0.00401606 0.00937082 0.02793296]
 [0.00454545 0.00401606 0.01606426 0.03631285]
 [0.00757576 0.         0.00803213 0.02513966]
 [0.00454545 0.00401606 0.00133869 0.02234637]
 [0.00757576 0.00401606 0.0107095  0.03351955]
 [0.00454545 0.00803213 0.00937082 0.03631285]
 [0.00454545 0.00803213 0.00267738 0.0027933 ]
 [0.00454545 0.00401606 0.00133869 0.02793296]
 [0.00909091 0.02008032 0.00937082 0.03631285]
 [0.01363636 0.01204819 0.0107095  0.04469274]
 [0.00606061 0.00803213 0.00669344 0.02234637]
 [0.00909091 0.00401606 0.0107095  0.04469274]
 [0.00606061 0.00401606 0.00401606 0.02793296]
 [0.00757576 0.00401606 0.01338688 0.04189944]
 [0.00606061 0.00401606 0.00937082 0.03072626]
 [0.05606061 0.05220884 0.03614458 0.02793296]
 [0.0530303  0.0562249  0.02811245 0.02793296]
 [0.05909091 0.0562249  0.03480589 0.02513966]
 [0.04545455 0.04819277 0.01606426 0.0027933 ]
 [0.05454545 0.0562249  0.02945114 0.01675978]
 [0.0530303  0.04819277 0.01874163 0.01675978]
 [0.05606061 0.06024096 0.02677376 0.03072626]
 [0.03484848 0.03614458 0.00803213 0.00558659]
 [0.68181818 0.51807229 0.82597055 0.74860335]
 [0.04393939 0.05220884 0.01204819 0.01396648]
 [0.51515152 0.39759036 0.61178046 0.4972067 ]
 [0.04848485 0.0562249  0.02141901 0.02234637]
 [0.04545455 0.03614458 0.0227577  0.        ]
 [0.05606061 0.05220884 0.02409639 0.01955307]
 [0.03939394 0.04819277 0.01740295 0.01955307]
 [0.05151515 0.05220884 0.03212851 0.02513966]
 [0.66666667 0.59839357 0.69210174 0.77653631]
 [0.0469697  0.03614458 0.02008032 0.01396648]
 [0.0530303  0.0562249  0.02543507 0.        ]
 [0.04393939 0.04016064 0.01740295 0.00837989]
 [0.05757576 0.06827309 0.02141901 0.02793296]
 [0.04545455 0.04819277 0.02409639 0.01675978]
 [0.05909091 0.0562249  0.02677376 0.00837989]
 [0.05606061 0.04417671 0.02409639 0.01675978]
 [0.05       0.04819277 0.02811245 0.01955307]
 [0.05151515 0.05220884 0.03078983 0.02234637]
 [0.05757576 0.05220884 0.0334672  0.01675978]
 [0.74242424 0.67871486 0.83935743 0.77653631]
 [0.0530303  0.0562249  0.0227577  0.01955307]
 [0.03787879 0.03614458 0.01874163 0.01117318]
 [0.04242424 0.04016064 0.01606426 0.00558659]
 [0.04090909 0.03614458 0.01606426 0.00558659]
 [0.04393939 0.04417671 0.02008032 0.01396648]
 [0.06212121 0.06024096 0.0227577  0.01396648]
 [0.0530303  0.0562249  0.01472557 0.02234637]
 [0.0530303  0.06024096 0.0227577  0.03351955]
 [0.05606061 0.0562249  0.03212851 0.02513966]
 [0.05151515 0.04819277 0.02677376 0.0027933 ]
 [0.0469697  0.04819277 0.01740295 0.02234637]
 [0.04545455 0.04819277 0.01606426 0.00837989]
 [0.05151515 0.04417671 0.01606426 0.01117318]
 [0.05454545 0.05220884 0.02409639 0.02234637]
 [0.04545455 0.04417671 0.02008032 0.01117318]
 [0.48484848 0.39759036 0.61178046 0.58100559]
 [0.04848485 0.04819277 0.01740295 0.01396648]
 [0.04848485 0.04417671 0.01874163 0.02234637]
 [0.04848485 0.04819277 0.01874163 0.01955307]
 [0.05       0.04819277 0.02543507 0.01955307]
 [0.03030303 0.04016064 0.0107095  0.00837989]
 [0.0469697  0.04819277 0.01874163 0.01675978]
 [0.07575758 0.09638554 0.02677376 0.03072626]
 [0.06212121 0.07228916 0.02008032 0.01396648]
 [0.07424242 0.08032129 0.03748327 0.02234637]
 [0.06969697 0.06827309 0.02677376 0.01955307]
 [0.07272727 0.08433735 0.02945114 0.02234637]
 [0.98484848 0.83935743 0.95983936 0.77653631]
 [0.0530303  0.06425703 0.00803213 0.00837989]
 [0.08030303 0.06827309 0.04016064 0.01955307]
 [0.07272727 0.06827309 0.03212851 0.00837989]
 [0.90909091 1.         0.90629183 0.94413408]
 [0.06212121 0.07630522 0.02945114 0.02793296]
 [0.06515152 0.07228916 0.02811245 0.01396648]
 [0.06818182 0.08032129 0.0334672  0.02234637]
 [0.06060606 0.07630522 0.01874163 0.00837989]
 [0.06212121 0.09236948 0.02008032 0.01675978]
 [0.06515152 0.08835341 0.02811245 0.02793296]
 [0.06818182 0.06827309 0.02945114 0.02234637]
 [1.         0.87951807 0.97322624 1.        ]
 [0.08939394 0.08835341 0.04551539 0.01117318]
 [0.06060606 0.0562249  0.0227577  0.        ]
 [0.07121212 0.08835341 0.03480589 0.02793296]
 [0.05909091 0.07630522 0.01740295 0.01675978]
 [0.08636364 0.07630522 0.04551539 0.01675978]
 [0.05909091 0.06827309 0.02677376 0.01396648]
 [0.07121212 0.08032129 0.03212851 0.03072626]
 [0.07575758 0.06827309 0.03882195 0.02793296]
 [0.71212121 0.7188755  0.77242303 1.        ]
 [0.05909091 0.06827309 0.02409639 0.02234637]
 [0.06969697 0.08032129 0.02811245 0.01675978]
 [0.07272727 0.06024096 0.03882195 0.02234637]
 [0.07727273 0.07228916 0.04149933 0.01675978]
 [0.95454545 0.07630522 1.         0.04469274]
 [0.06969697 0.08433735 0.02811245 0.01675978]
 [0.06212121 0.0562249  0.02677376 0.01675978]
 [0.06969697 0.05220884 0.02409639 0.01117318]
 [0.07727273 0.08835341 0.04551539 0.02234637]
 [0.06969697 0.09236948 0.02677376 0.03351955]
 [0.06818182 0.06827309 0.02811245 0.02513966]
 [0.05757576 0.06827309 0.0227577  0.02234637]
 [0.06666667 0.08032129 0.03480589 0.02513966]
 [0.06969697 0.09236948 0.03212851 0.02513966]
 [0.06212121 0.08835341 0.03480589 0.02513966]
 [0.06212121 0.07228916 0.02008032 0.01396648]
 [0.07424242 0.08835341 0.0334672  0.02793296]
 [0.07121212 0.09638554 0.03212851 0.03072626]
 [0.06363636 0.08835341 0.03212851 0.02234637]
 [0.06060606 0.07228916 0.02677376 0.00837989]
 [0.06363636 0.07630522 0.02945114 0.02234637]
 [0.06666667 0.08835341 0.02543507 0.03351955]
 [0.06212121 0.06827309 0.02141901 0.02234637]]
</pre></div>
</div>
</div>
</div>
<p>Kode ini bertujuan untuk membandingkan dua metode normalisasi data—yaitu StandardScaler dan MinMaxScaler—dalam konteks penerapan Principal Component Analysis (PCA) untuk mereduksi dimensi data numerik, serta menganalisis bagaimana masing-masing metode memengaruhi hasil representasi data.</p>
<p>Langkah awal dilakukan dengan mengekstrak fitur numerik dari DataFrame df_merged, hasil penggabungan data dari PostgreSQL dan MySQL. Kolom ‘id’ dan ‘class’ dihilangkan karena bukan bagian dari fitur numerik yang relevan untuk PCA, yang hanya bekerja pada data numerik.</p>
<p>Selanjutnya, dua pendekatan normalisasi diterapkan:</p>
<p>StandardScaler
Metode ini melakukan standardisasi dengan mengubah distribusi setiap fitur agar memiliki nilai rata-rata nol dan standar deviasi satu. Hasil transformasi disimpan dalam variabel standard_scaled. Setelah proses ini, PCA dengan dua komponen utama dijalankan menggunakan PCA(n_components=2), dan hasilnya disimpan dalam standard_reduced.</p>
<p>MinMaxScaler
Normalisasi menggunakan MinMaxScaler mengubah skala data agar berada dalam rentang antara 0 dan 1. Transformasi ini dilakukan terhadap fitur yang sama, dan hasilnya disimpan dalam minmax_scaled. Setelah itu, PCA kembali diterapkan untuk mereduksi data ke dua dimensi, dan hasilnya dimuat dalam minmax_reduced.</p>
<p>Dari kedua pendekatan ini, diperoleh dua representasi 2D dari dataset yang sama, masing-masing mencerminkan dampak metode normalisasi yang digunakan. Perbandingan hasil ini penting untuk memahami bagaimana skala dan distribusi awal data mempengaruhi proses reduksi dimensi. Hal ini memiliki implikasi besar terhadap visualisasi data, deteksi pola atau klasterisasi, serta performa model machine learning di tahap selanjutnya.</p>
</section>
<section id="clustering-visualisasi-2-cluster">
<h2>Clustering + Visualisasi (2 Cluster)<a class="headerlink" href="#clustering-visualisasi-2-cluster" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">silhouette_score</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">from</span> <span class="nn">mpl_toolkits.mplot3d</span> <span class="kn">import</span> <span class="n">Axes3D</span>  <span class="c1"># Required for 3D plotting</span>

<span class="c1"># PCA 3D</span>
<span class="n">pca_3d</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">minmax_reduced_3d</span> <span class="o">=</span> <span class="n">pca_3d</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">minmax_scaled</span><span class="p">)</span>

<span class="c1"># KMeans dengan 2 cluster</span>
<span class="n">kmeans_2</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">n_init</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">labels_2</span> <span class="o">=</span> <span class="n">kmeans_2</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">minmax_reduced_3d</span><span class="p">)</span>

<span class="c1"># Evaluasi</span>
<span class="n">inertia_2</span> <span class="o">=</span> <span class="n">kmeans_2</span><span class="o">.</span><span class="n">inertia_</span>
<span class="n">silhouette_2</span> <span class="o">=</span> <span class="n">silhouette_score</span><span class="p">(</span><span class="n">minmax_scaled</span><span class="p">,</span> <span class="n">labels_2</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[2 Clusters] Inertia: </span><span class="si">{</span><span class="n">inertia_2</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, Silhouette Score: </span><span class="si">{</span><span class="n">silhouette_2</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Visualisasi 3D (ukuran diperbesar)</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>  <span class="c1"># Lebar dan tinggi ditingkatkan</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="n">sc</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">minmax_reduced_3d</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">minmax_reduced_3d</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">minmax_reduced_3d</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">],</span>
                <span class="n">c</span><span class="o">=</span><span class="n">labels_2</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;KMeans Clustering (2 Clusters - 3D PCA)&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;PCA 1&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;PCA 2&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s2">&quot;PCA 3&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[2 Clusters] Inertia: 4.12, Silhouette Score: 0.9122
</pre></div>
</div>
<img alt="_images/318af672431603463922e458ace68e07815c1ea023e83d90b10f1c486f751e53.png" src="_images/318af672431603463922e458ace68e07815c1ea023e83d90b10f1c486f751e53.png" />
</div>
</div>
<p>Kode ini melakukan proses clustering menggunakan algoritma KMeans terhadap data yang sebelumnya telah dinormalisasi menggunakan MinMaxScaler dan direduksi menjadi tiga dimensi menggunakan PCA (Principal Component Analysis). Setelah proses tersebut, hasilnya divisualisasikan dalam bentuk grafik 3D untuk mempermudah pemahaman terhadap pola pengelompokan data.</p>
<p>Langkah awal dilakukan dengan mereduksi data minmax_scaled—yaitu data numerik yang telah dinormalisasi—menggunakan PCA ke dalam tiga dimensi. Hasilnya disimpan dalam variabel minmax_reduced_3d. Tujuannya adalah menyederhanakan data berdimensi tinggi menjadi representasi tiga dimensi yang tetap mencerminkan variasi utama dari data asli.</p>
<p>Selanjutnya, dilakukan clustering menggunakan algoritma KMeans dengan jumlah cluster ditentukan sebanyak 2. Objek kmeans_2 didefinisikan menggunakan parameter n_clusters=2 dan random_state=42 agar hasilnya konsisten saat diulang, serta n_init=10 untuk mencoba beberapa inisialisasi pusat cluster sehingga dapat menghindari solusi sub-optimal. Hasil pemodelan ini memberikan label cluster untuk setiap titik data, yang disimpan dalam labels_2.</p>
<p>Untuk mengevaluasi hasil clustering, digunakan dua metrik utama:</p>
<p>Inertia, yaitu total jarak kuadrat antara setiap titik dan pusat clusternya. Nilai yang lebih rendah menunjukkan cluster yang lebih rapat.</p>
<p>Silhouette Score, yang mengukur kualitas pemisahan antar cluster. Skor berkisar antara -1 hingga 1, dengan nilai yang lebih mendekati 1 menunjukkan pemisahan cluster yang lebih jelas dan konsisten.</p>
<p>Kedua metrik tersebut dicetak ke layar menggunakan print.</p>
<p>Langkah terakhir adalah visualisasi hasil clustering menggunakan scatter plot 3D dengan bantuan Axes3D dari matplotlib. Grafik ditampilkan dalam ukuran besar (figsize=(12, 8)) agar lebih mudah dilihat. Setiap titik dalam grafik diberi warna sesuai label clusternya (c=labels_2) menggunakan skema warna ‘viridis’. Label sumbu dan judul ditambahkan untuk memperjelas isi grafik, dan plt.tight_layout() digunakan untuk memastikan elemen grafik tidak saling bertindihan.</p>
<p>Visualisasi ini memudahkan dalam melihat pembagian data ke dalam dua cluster berdasarkan hasil reduksi PCA dan pemodelan KMeans, serta mengidentifikasi pola atau kelompok yang mungkin muncul dari data.</p>
</section>
<section id="clustering-visualisasi-3-cluster">
<h2>Clustering + Visualisasi (3 Cluster)<a class="headerlink" href="#clustering-visualisasi-3-cluster" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">silhouette_score</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">from</span> <span class="nn">mpl_toolkits.mplot3d</span> <span class="kn">import</span> <span class="n">Axes3D</span>  <span class="c1"># Untuk plotting 3D</span>

<span class="c1"># PCA 2D (jika belum dilakukan sebelumnya)</span>
<span class="n">pca_2d</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">minmax_reduced_2d</span> <span class="o">=</span> <span class="n">pca_2d</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">minmax_scaled</span><span class="p">)</span>

<span class="c1"># PCA 3D</span>
<span class="n">pca_3d</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">minmax_reduced_3d</span> <span class="o">=</span> <span class="n">pca_3d</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">minmax_scaled</span><span class="p">)</span>

<span class="c1"># KMeans dengan 3 cluster</span>
<span class="n">kmeans_3</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">n_init</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">labels_3</span> <span class="o">=</span> <span class="n">kmeans_3</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">minmax_scaled</span><span class="p">)</span>

<span class="c1"># Evaluasi</span>
<span class="n">inertia_3</span> <span class="o">=</span> <span class="n">kmeans_3</span><span class="o">.</span><span class="n">inertia_</span>
<span class="n">silhouette_3</span> <span class="o">=</span> <span class="n">silhouette_score</span><span class="p">(</span><span class="n">minmax_scaled</span><span class="p">,</span> <span class="n">labels_3</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[3 Clusters] Inertia: </span><span class="si">{</span><span class="n">inertia_3</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, Silhouette Score: </span><span class="si">{</span><span class="n">silhouette_3</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Visualisasi 2D</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">minmax_reduced_2d</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">minmax_reduced_2d</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="n">labels_3</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;KMeans Clustering (3 Clusters - 2D PCA)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;PCA 1&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;PCA 2&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Visualisasi 3D</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="n">sc</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">minmax_reduced_3d</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">minmax_reduced_3d</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">minmax_reduced_3d</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">],</span>
                <span class="n">c</span><span class="o">=</span><span class="n">labels_3</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;KMeans Clustering (3 Clusters - 3D PCA)&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;PCA 1&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;PCA 2&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s2">&quot;PCA 3&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[3 Clusters] Inertia: 2.59, Silhouette Score: 0.8925
</pre></div>
</div>
<img alt="_images/cc2f18e4ad061caeac08a736386e45ea443c885c190651653be1e7055d686599.png" src="_images/cc2f18e4ad061caeac08a736386e45ea443c885c190651653be1e7055d686599.png" />
<img alt="_images/b514b47541c3061870da6ca2f2f60d8ff8d66528ad831b38d5823c08ef484ccf.png" src="_images/b514b47541c3061870da6ca2f2f60d8ff8d66528ad831b38d5823c08ef484ccf.png" />
</div>
</div>
<p>Kode ini menerapkan algoritma KMeans dengan jumlah 3 cluster pada data yang sebelumnya telah dinormalisasi menggunakan MinMaxScaler, kemudian direduksi menggunakan PCA ke dalam bentuk dua dan tiga dimensi. Tujuan dari proses ini adalah untuk mengidentifikasi pola tersembunyi dalam data melalui clustering dan memvisualisasikan hasilnya secara intuitif.</p>
<p>Langkah pertama adalah melakukan reduksi dimensi pada data minmax_scaled (hasil normalisasi fitur numerik). Dua proses PCA dijalankan secara terpisah: satu untuk mereduksi data ke dalam 2 dimensi (minmax_reduced_2d), dan satu lagi untuk 3 dimensi (minmax_reduced_3d). Reduksi ini bertujuan untuk mempertahankan karakteristik utama data dalam bentuk yang lebih sederhana sehingga lebih mudah dianalisis dan divisualisasikan.</p>
<p>Selanjutnya, dilakukan proses clustering KMeans dengan 3 cluster melalui objek kmeans_3. Parameter random_state=42 digunakan agar hasil yang diperoleh dapat direproduksi, dan n_init=10 menandakan bahwa algoritma akan menjalankan proses inisialisasi sebanyak 10 kali dengan posisi pusat cluster berbeda, kemudian memilih hasil dengan inertia terkecil. Hasil clustering berupa label untuk setiap data disimpan dalam labels_3.</p>
<p>Untuk menilai kualitas hasil clustering, digunakan dua metrik evaluasi:</p>
<p>Inertia, yaitu total jarak kuadrat antara setiap data dan pusat clusternya. Nilai lebih kecil menunjukkan bahwa data lebih dekat ke pusat cluster masing-masing.</p>
<p>Silhouette Score, yang menilai seberapa baik setiap data cocok berada dalam clusternya dibandingkan dengan cluster lain. Nilai mendekati 1 menunjukkan bahwa data berada dalam cluster yang terdefinisi dengan baik.</p>
<p>Setelah evaluasi, hasil clustering divisualisasikan dalam dua bentuk:</p>
<p>Visualisasi 2D dilakukan menggunakan data minmax_reduced_2d, di mana tiap titik ditampilkan pada bidang dua dimensi dan diberi warna sesuai dengan cluster-nya.</p>
<p>Visualisasi 3D menggunakan minmax_reduced_3d, dengan bantuan modul Axes3D, sehingga tiap titik dapat ditampilkan dalam ruang tiga dimensi berdasarkan hasil PCA, dan pewarnaan menunjukkan hasil pengelompokan.</p>
<p>Melalui pendekatan ini, pengguna dapat melihat secara visual bagaimana data yang telah dinormalisasi dan direduksi dapat dikelompokkan menjadi tiga cluster yang mungkin merepresentasikan tiga kategori atau kelas dalam data, seperti spesies bunga Iris. Evaluasi metrik serta tampilan grafik memberikan pemahaman yang lebih dalam terhadap kualitas dan struktur dari hasil clustering yang diperoleh.</p>
</section>
<section id="clustering-visualisasi-4-cluster">
<h2>Clustering + Visualisasi (4 Cluster)<a class="headerlink" href="#clustering-visualisasi-4-cluster" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">silhouette_score</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">from</span> <span class="nn">mpl_toolkits.mplot3d</span> <span class="kn">import</span> <span class="n">Axes3D</span>

<span class="c1"># PCA 2D dan 3D</span>
<span class="n">pca_2d</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">minmax_reduced_2d</span> <span class="o">=</span> <span class="n">pca_2d</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">minmax_scaled</span><span class="p">)</span>

<span class="n">pca_3d</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">minmax_reduced_3d</span> <span class="o">=</span> <span class="n">pca_3d</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">minmax_scaled</span><span class="p">)</span>

<span class="c1"># KMeans dengan 4 cluster</span>
<span class="n">kmeans_4</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">n_init</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">labels_4</span> <span class="o">=</span> <span class="n">kmeans_4</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">minmax_scaled</span><span class="p">)</span>

<span class="c1"># Evaluasi</span>
<span class="n">inertia_4</span> <span class="o">=</span> <span class="n">kmeans_4</span><span class="o">.</span><span class="n">inertia_</span>
<span class="n">silhouette_4</span> <span class="o">=</span> <span class="n">silhouette_score</span><span class="p">(</span><span class="n">minmax_scaled</span><span class="p">,</span> <span class="n">labels_4</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[4 Clusters] Inertia: </span><span class="si">{</span><span class="n">inertia_4</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, Silhouette Score: </span><span class="si">{</span><span class="n">silhouette_4</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Visualisasi 2D (ukuran diperbesar)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>  <span class="c1"># Lebar ditambah</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">minmax_reduced_2d</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">minmax_reduced_2d</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="n">labels_4</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;KMeans Clustering (4 Clusters - 2D PCA)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;PCA 1&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;PCA 2&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Visualisasi 3D (ukuran diperbesar)</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>  <span class="c1"># Lebar ditambah</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">minmax_reduced_3d</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">minmax_reduced_3d</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">minmax_reduced_3d</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">],</span>
           <span class="n">c</span><span class="o">=</span><span class="n">labels_4</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;KMeans Clustering (4 Clusters - 3D PCA)&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;PCA 1&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;PCA 2&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s2">&quot;PCA 3&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[4 Clusters] Inertia: 1.87, Silhouette Score: 0.8968
</pre></div>
</div>
<img alt="_images/4fe009f392c51b76970a087bdc70a19eab0a1fc48a60609f24dc0e9f5b086f92.png" src="_images/4fe009f392c51b76970a087bdc70a19eab0a1fc48a60609f24dc0e9f5b086f92.png" />
<img alt="_images/f306a65e1b984ea618a485b8e36031c4625871d8f28492a0ecc07e0cb39ea44f.png" src="_images/f306a65e1b984ea618a485b8e36031c4625871d8f28492a0ecc07e0cb39ea44f.png" />
</div>
</div>
<p>Kode ini melakukan proses clustering menggunakan KMeans dengan 4 cluster terhadap data yang telah dinormalisasi menggunakan MinMaxScaler, kemudian direduksi dimensinya menjadi 2D dan 3D menggunakan teknik PCA (Principal Component Analysis). Tujuan utamanya adalah untuk mengidentifikasi pola pengelompokan dalam data dan menampilkannya secara visual agar lebih mudah dianalisis.</p>
<p>Langkah pertama adalah menerapkan PCA pada data minmax_scaled, yaitu data numerik yang telah dinormalisasi. Reduksi dilakukan dalam dua versi: ke dalam dua dimensi (minmax_reduced_2d) dan tiga dimensi (minmax_reduced_3d), dengan menggunakan PCA(n_components=2) dan PCA(n_components=3). PCA bertujuan merangkum informasi penting dari data berdimensi tinggi ke dimensi yang lebih rendah, memudahkan proses visualisasi tanpa kehilangan terlalu banyak variasi data.</p>
<p>Setelah proses reduksi, diterapkan KMeans clustering dengan jumlah cluster = 4 menggunakan objek kmeans_4. Parameter random_state=42 menjamin konsistensi hasil pada setiap eksekusi, sedangkan n_init=10 mengarahkan KMeans untuk mencoba beberapa inisialisasi pusat cluster dan memilih hasil terbaik berdasarkan nilai inertia. Hasil clustering disimpan dalam labels_4, yaitu label yang menunjukkan keanggotaan cluster dari setiap data.</p>
<p>Evaluasi kualitas hasil pengelompokan dilakukan dengan dua metrik:</p>
<p>Inertia, yang mengukur jumlah kuadrat jarak antara data dan pusat clusternya. Nilai yang lebih kecil menunjukkan cluster yang lebih padat dan efisien.</p>
<p>Silhouette Score, yang menilai seberapa baik data terpisah antar cluster dan seberapa konsisten dalam cluster-nya sendiri. Skor mendekati 1 menandakan cluster yang terdefinisi dengan baik.</p>
<p>Terakhir, hasil clustering divisualisasikan dengan dua cara:</p>
<p>Plot 2D menggunakan minmax_reduced_2d, yang menggambarkan data dalam dua dimensi dengan pewarnaan berdasarkan label cluster.</p>
<p>Plot 3D dengan minmax_reduced_3d, menggunakan Axes3D dari matplotlib untuk menunjukkan distribusi data dalam ruang tiga dimensi.</p>
<p>Visualisasi ini memungkinkan pengguna untuk secara intuitif memahami bagaimana data terbagi dalam empat kelompok. Jika hasilnya menunjukkan silhouette score rendah atau tumpang tindih antar cluster dalam visualisasi, itu bisa menjadi indikasi bahwa pemilihan jumlah cluster belum optimal.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="UTS.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><strong>UTS</strong></p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bagian-awal-ambil-dan-gabungkan-data">Bagian Awal: Ambil dan Gabungkan Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-asli">Data Asli</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-normalisasi">Data Normalisasi</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocessing-dan-reduksi-dimensi">Preprocessing dan Reduksi Dimensi</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#clustering-visualisasi-2-cluster">Clustering + Visualisasi (2 Cluster)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#clustering-visualisasi-3-cluster">Clustering + Visualisasi (3 Cluster)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#clustering-visualisasi-4-cluster">Clustering + Visualisasi (4 Cluster)</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By aliridwan15
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>